{% extends "base.html" %}
{% load form_tags %}
{% block content %}
<div class="d-flex justify-content-between align-items-center mb-4">
  <h2 class="mb-0">
    <i class="bi bi-building text-primary me-2"></i>{{ object|yesno:"Edit Warehouse,New Warehouse" }}
  </h2>
  <a href="{% url 'inventory:settings' %}" class="btn btn-secondary">
    <i class="bi bi-arrow-left me-1"></i>Back to Settings
  </a>
</div>

<div class="card border-0 shadow-lg">
  <div class="card-body p-4">
    <form method="post">
      {% csrf_token %}
      {% if form.non_field_errors %}
        <div class="alert alert-danger border-0 shadow-sm mb-4">
          <i class="bi bi-exclamation-triangle-fill me-2"></i>
          {% for error in form.non_field_errors %}{{ error }}{% endfor %}
        </div>
      {% endif %}
      <div class="row">
        <div class="col-md-6">
          <div class="mb-3">
            <label class="form-label fw-bold">
              <i class="bi bi-tag me-1"></i>Warehouse Name <span class="text-danger">*</span>
            </label>
            {{ form.name|add_class:"form-control form-control-lg" }}
            {% if form.name.errors %}
              <div class="text-danger small mt-1">{{ form.name.errors }}</div>
            {% endif %}
            <div class="form-text">Enter a descriptive name for the warehouse</div>
          </div>
        </div>
        <div class="col-md-6">
          <div class="mb-3">
            <label class="form-label fw-bold">
              <i class="bi bi-hash me-1"></i>Warehouse Code <span class="text-danger">*</span>
            </label>
            {{ form.code|add_class:"form-control form-control-lg" }}
            {% if form.code.errors %}
              <div class="text-danger small mt-1">{{ form.code.errors }}</div>
            {% endif %}
            <div class="form-text">Unique identifier code (e.g., WH-MAIN)</div>
          </div>
        </div>
      </div>
      <div class="mb-4">
        <label class="form-label fw-bold">
          <i class="bi bi-geo-alt me-1"></i>Address
        </label>
        {{ form.address|add_class:"form-control" }}
        {% if form.address.errors %}
          <div class="text-danger small mt-1">{{ form.address.errors }}</div>
        {% endif %}
        <div class="form-text">Physical address of the warehouse</div>
      </div>
      
      <hr class="my-4">
      <h5 class="mb-4">
        <i class="bi bi-person-plus text-primary me-2"></i>Warehouse Staff Account
      </h5>
      <p class="text-muted mb-4">Create a staff account for this warehouse.</p>
      
      <div class="row">
        <div class="col-md-6">
          <div class="mb-3">
            <label class="form-label fw-bold">
              <i class="bi bi-person me-1"></i>Staff Login ID <span class="text-danger">*</span>
            </label>
            {{ form.user_username|add_class:"form-control form-control-lg" }}
            {% if form.user_username.errors %}
              <div class="text-danger small mt-1">{{ form.user_username.errors }}</div>
            {% endif %}
            <div class="form-text">{{ form.user_username.help_text }}</div>
          </div>
        </div>
        <div class="col-md-6">
          <div class="mb-3">
            <label class="form-label fw-bold">
              <i class="bi bi-envelope me-1"></i>Staff Email <span class="text-danger">*</span>
            </label>
            {{ form.user_email|add_class:"form-control form-control-lg" }}
            {% if form.user_email.errors %}
              <div class="text-danger small mt-1">{{ form.user_email.errors }}</div>
            {% endif %}
            <div class="form-text">{{ form.user_email.help_text }}</div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-md-6">
          <div class="mb-3">
            <label class="form-label fw-bold">
              <i class="bi bi-lock me-1"></i>Password <span class="text-danger">*</span>
            </label>
            {{ form.user_password1|add_class:"form-control form-control-lg" }}
            {% if form.user_password1.errors %}
              <div class="text-danger small mt-1">{{ form.user_password1.errors }}</div>
            {% endif %}
            <div class="form-text">{{ form.user_password1.help_text }}</div>
          </div>
        </div>
        <div class="col-md-6">
          <div class="mb-3">
            <label class="form-label fw-bold">
              <i class="bi bi-lock-fill me-1"></i>Confirm Password <span class="text-danger">*</span>
            </label>
            {{ form.user_password2|add_class:"form-control form-control-lg" }}
            {% if form.user_password2.errors %}
              <div class="text-danger small mt-1">{{ form.user_password2.errors }}</div>
            {% endif %}
            <div class="form-text">Re-enter the password to confirm</div>
          </div>
        </div>
      </div>
      
      <div class="card-footer bg-light border-0 mt-4 p-3">
        <div class="d-flex justify-content-end gap-2">
          <a href="{% url 'inventory:settings' %}" class="btn btn-secondary btn-lg">
            <i class="bi bi-x-circle me-2"></i>Cancel
          </a>
          <button type="submit" class="btn btn-primary btn-lg">
            <i class="bi bi-check-circle me-2"></i>Save Warehouse
          </button>
        </div>
      </div>
    </form>
  </div>
</div>
{% endblock %}


